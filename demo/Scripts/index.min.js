require(["dojo/dom","dojo/on","dojo/html","dojo/query","dojo/dom-attr","dijit/Dialog","esri/map","esri/graphic","esri/SpatialReference","esri/geometry/Extent","esri/geometry/webMercatorUtils","esri/tasks/GeometryService","esri/toolbars/draw","esri/symbols/SimpleMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleFillSymbol","esri/tasks/ProjectParameters","use!clientProjection","dojo/domReady!"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){"use strict";function it(n){var t,i;return t=tt,i=nt,Proj4js.projectEsriGeometry(n,t,i)}var b,d,g,k,nt,tt;Proj4js.defs["EPSG:2927"]="+proj=lcc +lat_1=47.33333333333334 +lat_2=45.83333333333334 +lat_0=45.33333333333334 +lon_0=-120.5 +x_0=500000.0001016001 +y_0=0 +ellps=GRS80 +to_meter=0.3048006096012192 +no_defs";nt=new Proj4js.Proj("EPSG:2927");tt=new Proj4js.Proj("GOOGLE");d=new h(-124.5,45.55,-116.9,47.6,new s({wkid:4326}));d=c.geographicToWebMercator(d);b=new e(n.byId("map"),{extent:d,basemap:"streets"});g=new l("http://tasks.arcgisonline.com/ArcGIS/rest/services/Geometry/GeometryServer");t(b,"load",function(){function h(n){var t;return/(?:multi)?point/i.test(n.type)?t=new v:n.type==="polyline"?t=new y:(n.type==="polygon"||n.type==="extent")&&(t=new p),t}var e;t(window,"resize",function(){b.resize()});e=new a(b);t(r("button[data-geometryType]"),"click",function(){var t=this,n;n=u.get(t,"data-geometrytype");e.activate(n)});dojo.connect(e,"onDrawEnd",function(t){var r,l,u,c;if(e.deactivate(),r=t,b.graphics.add(new o(r,h(t))),l=it(r),u=new w,u.geometries=[r],u.outSR=new s({wkid:2927}),c=["<div><dl><dt>Original Geometry<\/dt><dd>",JSON.stringify(r.toJson()),"<\/dd><dt>Proj4js Projected<\/dt><dd>",JSON.stringify(l.toJson()),"<\/dd><dt>Geometry Service Projected<\/dt><dd id='geometryServiceResults'><progress>Please wait...<\/progress><\/dd><\/div>"].join(""),k)k.set("content",c);else{k=new f({id:"dialog",title:"Projection Results",content:c});k.on("hide",function(){b.graphics.clear()})}k.show();g.project(u,function(t){i.set(n.byId("geometryServiceResults"),JSON.stringify(t[0].toJson()))},function(t){i.set(n.byId("geometryServiceResults"),t.message||t)})})})});
//# sourceMappingURL=index.min.js.map